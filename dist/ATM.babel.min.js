"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function e(e,t,a){return o.VALIDATE_RULES[e]?"function"==typeof o.VALIDATE_RULES[e]?o.VALIDATE_RULES[e](t,a):"object"===_typeof(o.VALIDATE_RULES[e])?(o.VALIDATE_RULES[e].requiredData=o.VALIDATE_RULES[e].requiredData||[],o.VALIDATE_RULES[e].requiredOptions=o.VALIDATE_RULES[e].requiredOptions||[],!o.VALIDATE_RULES[e].requiredData.some(function(e){return!t[e]&&console.warn("ATM validateData: Validate NOT passed, param: data."+e),!t[e]})&&!o.VALIDATE_RULES[e].requiredOptions.some(function(e){return!a[e]&&console.warn("ATM validateData: Validate NOT passed, param: options."+e),!a[e]})):(console.warn("ATM validateData: Type unmatched Please check your ATM_CONFIG.VALIDATE_RULES "),!0):(console.warn("ATM validateData: no matched validate rule, default return true"),!0)}var t={},o={VALIDATE_RULES:{piwik_emit:function(e,t){return!0},test:{requiredData:["test"],requiredOptions:[]},piwik_auto:{requiredData:[],requiredOptions:["trigger","page","element"]},default:{requiredData:[],requiredOptions:[]}}};t.autoCollectTrackData=function(t,o){if("object"===(void 0===t?"undefined":_typeof(t))&&t||(t={}),!(o&&o.trigger&&o.page&&o.element))return console.warn("ATM autoCollectTrackData: required options missed"),!1;if(o.validateRule&&!e(o.validateRule,t,o))return console.warn("ATM autoCollectTrackData: validateRule NOT passed"),!1;"*"===o.page&&(o.page=window.location.href.toLowerCase());var a=window.location.href.toLowerCase();try{if(-1!=a.indexOf(o.page)){var r=document.querySelectorAll(o.element);if(r){Array.prototype.slice.call(r).map(function(e){e.addEventListener(o.trigger,function(){console.log(this),console.log("ATM.emitCollectingTrackData(data,options)")})})}}}catch(e){console.log(e)}},t.emitCollectingTrackData=function(e,t){if(!e&&!t)return!1;t=t||{processType:"default"},t.processType||(t.processType="default"),t.reportType||(t.reportType="default"),console.log("emitCollectingTrackData",e,t),e=o.PROCESS_TYPE_MAPPING[t.processType]&&o.PROCESS_TYPE_MAPPING[t.processType](e,t),o.REPORT_TYPE_MAPPING[t.reportType]&&o.REPORT_TYPE_MAPPING[t.reportType](e,t)},t.setOptions=function(e){},window.ATM=window.ATM||t}();
//# sourceMappingURL=ATM.babel.min.js.map
